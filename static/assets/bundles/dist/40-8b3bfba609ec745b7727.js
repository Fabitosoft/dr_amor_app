(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1464:function(e,a,r){"use strict";r.r(a),function(e){var s,t=r(0),n=r.n(t),i=r(15),o=r(13),c=r(153),l=r(1465),u=r(1468),m=r(1020),d=r(1024);(s=r(2).enterModule)&&s(e);var p,f,_=Object(m.a)(l.a,u.a),g=Object(t.memo)(function(e){var a=Object(i.useDispatch)(),r=Object(i.useSelector)(function(e){return e.auth}),s=Object(i.useSelector)(function(e){return e.usuarios}),l=Object(d.a)(c.G),u={fetchObjectMethod:function(e,r){return a(o.fetchUsuario(e,r))},deleteObjectMethod:function(e,r){return a(o.deleteUsuario(e,r))},createObjectMethod:function(e,r){return a(o.createUsuario(e,r))},updateObjectMethod:function(e,r,s){return a(o.updateUsuario(e,r,s))}},m=function(){a(o.fetchUsuarios())};return Object(t.useEffect)(function(){return m(),function(){a(o.clearUsuarios())}},[]),n.a.createElement(_,{auth:r,method_pool:u,list:s,permisos_object:l,plural_name:"Usuarios",singular_name:"Usuario",cargarDatos:m})}),h=g;a.default=h,p=r(2).default,f=r(2).leaveModule,p&&(p.register(_,"CRUD","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/UsuarioCRUD.jsx"),p.register(g,"List","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/UsuarioCRUD.jsx"),p.register(h,"default","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/UsuarioCRUD.jsx"),f(e))}.call(this,r(5)(e))},1465:function(e,a,r){"use strict";(function(e){var s,t=r(0),n=r.n(t),i=r(57),o=r(84),c=r(43),l=r(221),u=r(1466),m=r(1467);(s=r(2).enterModule)&&s(e);var d,p,f=function(e,a){a(Object(i.a)("usuarioForm"))},_=Object(t.memo)(function(e){var a=e.pristine,r=e.submitting,s=e.reset,i=e.initialValues,o=e.onSubmit,u=e.onCancel,m=e.handleSubmit,d=e.modal_open,p=e.error;return n.a.createElement(l.a,{onCancel:function(){u(),s()},onSubmit:m(o),reset:s,initialValues:i,submitting:r,modal_open:d,pristine:a,element_type:"Usuario",error:p},n.a.createElement(c.g,{className:"col-12 col-md-4",nombre:"Nombre de Usuario",name:"username",case:"L"}),n.a.createElement(c.g,{className:"col-12 col-md-8",nombre:"Correo Electrónico",name:"email",case:"U"}),n.a.createElement(c.g,{className:"col-12 col-md-6",nombre:"Nombres",name:"first_name",case:"U"}),n.a.createElement(c.g,{className:"col-12 col-md-6",nombre:"Apellidos",name:"last_name",case:"U"}),!i&&n.a.createElement(t.Fragment,null,n.a.createElement(c.g,{type:"password",className:"col-12 col-md-6",nombre:"Contraseña",name:"password"}),n.a.createElement(c.g,{type:"password",className:"col-12 col-md-6",nombre:"Comprobación de contraseña",name:"password2"})))}),g=_=Object(o.a)({form:"usuarioForm",onSubmitSuccess:f,validate:u.a,asyncValidate:m.a,asyncBlurFields:["username"],enableReinitialize:!0})(_);a.a=g,d=r(2).default,p=r(2).leaveModule,d&&(d.register(f,"afterSubmit","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/UsuarioCRUDForm.jsx"),d.register(_,"Form","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/UsuarioCRUDForm.jsx"),d.register(g,"default","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/UsuarioCRUDForm.jsx"),p(e))}).call(this,r(5)(e))},1466:function(e,a,r){"use strict";(function(e){var s,t=r(29);(s=r(2).enterModule)&&s(e);var n,i,o=function(e){var a={};return e.username||(a.username="Requerido"),e.first_name||(a.first_name="Requerido"),e.last_name||(a.last_name="Requerido"),e.email?t.a.test(e.email)||(a.email="Correo Electrónico Inválido"):a.email="Requerido",e.password?e.password!==e.password2?(a.password="No Coinciden",a.password2="No Coinciden"):(e.password.length<8||e.password.length>20)&&(a.password="La contraseña debe tener entre 8 y 20 caracteres. Esta tiene ".concat(e.password.length," caracteres")):a.password="Requerido",_.mapKeys({username:30,first_name:30,last_name:40},function(r,s){e[s]&&e[s].length>parseInt(r)&&(a[s]="No debe tener más de ".concat(r," caracteres!"))}),a},c=o;a.a=c,n=r(2).default,i=r(2).leaveModule,n&&(n.register(o,"validate","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/validate.jsx"),n.register(c,"default","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/validate.jsx"),i(e))}).call(this,r(5)(e))},1467:function(e,a,r){"use strict";(function(e){var s,t=r(236);(s=r(2).enterModule)&&s(e);var n,i,o="/api/usuarios/validar_nuevo_usuario",c=function(e,a,r,s){return Object(t.a)(e,a,r,s,o)},l=c;a.a=l,n=r(2).default,i=r(2).leaveModule,n&&(n.register(o,"URL","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/asyncValidate.jsx"),n.register(c,"asyncValidate","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/asyncValidate.jsx"),n.register(l,"default","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/forms/asyncValidate.jsx"),i(e))}).call(this,r(5)(e))},1468:function(e,a,r){"use strict";(function(e){var s,t=r(0),n=r.n(t),i=r(233),o=r.n(i),c=r(1019),l=r(1025),u=r(1021),m=r(78),d=r(1023);function p(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(a){f(e,a,r[a])})}return e}function f(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}(s=r(2).enterModule)&&s(e);var g,h,b=function(e,a){return e.list===a.list},j=Object(t.memo)(function(e){var a=_.map(e.list),r=e.updateItem,s=e.singular_name,t=e.onDelete,i=e.onSelectItemEdit,f=e.permisos_object,g=e.auth.user;return n.a.createElement(d.a,{data:a,noDataText:"No hay elementos para mostrar tipo ".concat(s),columns:[{Header:"Personal",columns:[{Header:"Usuario",accessor:"username",maxWidth:150,filterable:!0,filterMethod:function(e,a){return a[e.id].includes(e.value.toLowerCase())}},{Header:"Nombres",maxWidth:300,filterable:!0,filterMethod:function(e,a){return a._original.first_name.includes(e.value.toUpperCase())|a._original.last_name.includes(e.value.toUpperCase())},Cell:function(e){return"".concat(e.original.first_name," ").concat(e.original.last_name)}},{Header:"Correo",accessor:"email",filterable:!0,filterMethod:function(e,a){return a[e.id].includes(e.value.toUpperCase())}}]},{Header:"Opciones",columns:[{Header:"Activo",accessor:"is_active",show:f.make_user_active,maxWidth:50,Cell:function(e){return g.id!==e.original.id&&n.a.createElement("div",{className:"text-center",style:{width:"100%"}},n.a.createElement(o.a,{style:{margin:0,padding:0},color:"primary",checked:e.value,onChange:function(){return r(p({},e.original,{is_active:!e.value}))}}))}},{Header:"Admin",accessor:"is_superuser",show:f.make_user_superuser,maxWidth:50,Cell:function(e){return g.id!==e.original.id&&n.a.createElement("div",{className:"text-center",style:{width:"100%"}},n.a.createElement(o.a,{style:{margin:0,padding:0},color:"primary",checked:e.value,onChange:function(){return r(p({},e.original,{is_superuser:!e.value}))}}))}},{Header:"Staff",accessor:"is_staff",show:f.make_user_staff,maxWidth:50,Cell:function(e){return g.id!==e.original.id&&n.a.createElement("div",{className:"text-center",style:{width:"100%"}},n.a.createElement(o.a,{style:{margin:0,padding:0},color:"primary",checked:e.value,onChange:function(){return r(p({},e.original,{is_staff:!e.value}))}}))}},{Header:"Elimi.",show:f.delete,maxWidth:50,Cell:function(e){return g.id!==e.original.id&&(g.is_superuser&&e.original.is_superuser||!e.original.is_superuser)&&n.a.createElement(c.a,{onDelete:function(){t(e.original)},element_name:e.original.username,element_type:s})}},{Header:"Editar",show:f.change,maxWidth:50,Cell:function(e){return n.a.createElement(u.a,{onClick:function(){i(e.original)}})}},{Header:"Ver",show:f.detail,maxWidth:50,Cell:function(e){return n.a.createElement(m.b,{to:"/app/admin/usuarios/detail/".concat(e.original.id)},n.a.createElement(l.a,null))}}]}],defaultPageSize:10,className:"-striped -highlight tabla-maestra"})},b),U=j;a.a=U,g=r(2).default,h=r(2).leaveModule,g&&(g.register(b,"areEqual","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/UsuarioCRUDTabla.jsx"),g.register(j,"Tabla","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/UsuarioCRUDTabla.jsx"),g.register(U,"default","/Users/fabioandresgarciasanchez/PycharmProjects/dr_amor_app/static/assets/js/03_app_admin/generales/usuarios/UsuarioCRUDTabla.jsx"),h(e))}).call(this,r(5)(e))}}]);